{% extends 'core/base.html' %}
{% block content %}
<h2 class="mb-3">My Purchases</h2>

{% if purchases %}
  <div class="list-group">
    {% for p in purchases %}
    <div class="list-group-item">
      <div class="d-flex justify-content-between">
        <div>
          <div class="fw-bold">{{ p.bundle.name if p.bundle else "Bundle" }}</div>
          <div class="small text-muted">Recipient: {{ p.recipient }}</div>
        </div>
        <div class="text-end">
          <div class="fw-bold">â‚µ{{ p.amount }}</div>
          <div class="small">{{ p.paid|yesno:"Paid,Pending" }}</div>
          <div class="small text-muted">{{ p.paid_at|default:p.created_at }}</div>
        </div>
      </div>
      <div class="mt-2 small text-muted">Transaction: {{ p.api_transaction_id }}</div>
    </div>
    {% endfor %}
  </div>
{% else %}
  <div class="alert alert-info">No purchases yet.</div>
{% endif %}
{% endblock %}
